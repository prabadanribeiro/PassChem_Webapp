import React, {useEffect, useState} from 'react'
import { Link } from 'react-router-dom'
import Cookies from 'js-cookie'
import { useNavigate } from 'react-router-dom'
import '../styles/Navbar.css'

export default function Navbar({ isHome }) {

    const navigate = useNavigate()
    const [isGoogleApiLoaded, setIsGoogleApiLoaded] = useState(false)
    const accessToken = Cookies.get('access_token')
    const refreshToken = Cookies.get('refresh_token')

    useEffect(() => {
        const isLoggedInWithGoogle = Cookies.get('isLoggedInWithGoogle') === 'true'

        if (isLoggedInWithGoogle) {
            if (window.google) {
                setIsGoogleApiLoaded(true)
                return
            }
            const script = document.createElement('script')
            script.src = 'https://accounts.google.com/gsi/client'
            script.onload = () => {
                setIsGoogleApiLoaded(true)
            }
            document.body.appendChild(script)

            return () => {
                document.body.removeChild(script)
            }
        }
    }, [])

    const logout = async (event) => {
        event.preventDefault()
        Cookies.remove('access_token')
        Cookies.remove('refresh_token')
        
        if (isGoogleApiLoaded) {
            window.google.accounts.id.disableAutoSelect()
            window.google.accounts.id.revoke(Cookies.get('user_email'), () => {
                Cookies.remove('isLoggedInWithGoogle')
                console.log('User logged out of Google')
                navigate('/')
            })
        } else {
            navigate('/')
        }
    }

    const MoreButtonScroll = (event) => {
        event.preventDefault()
        const section = document.getElementById('section2');
        if (section) {
            section.scrollIntoView({ behavior: 'smooth' })
        }
    }
    const [menuPopup, setMenuPopup] = useState(false)
    function menuPopupToggle() {
        setMenuPopup(!menuPopup)
    }

    const bgvideomp4 = isHome ? 'nebula.mp4' : ''
    const bgvideowebm = isHome ? 'nebula.webm' : ''
    
    const hero = {
        height: isHome ? 'min(100vh, 720px)' : '90px'
    }

    const navSpecs = {
        backgroundColor: isHome ? 'transparent' : '#111'
    }

    const vidOverlay = {
        display: isHome ? 'flex' : 'none'
    }

    return (
        <>
            <div className='landing-hero' style={hero}>
                <div className='video-container'>
                    <video autoPlay loop muted playsInline>
                        <source src={bgvideowebm} type='video/webm'/>
                        <source src={bgvideomp4} type='video/mp4'/>
                    </video>
                </div>
                <nav className="navbar" style={navSpecs}>
                    <Link to={'/'} aria-label='PassChem Homepage'>
                    <svg width="238" height="56" viewBox="0 0 238 56" fill="none" xmlns="http://www.w3.org/2000/svg" className='logo-svg'>
                        <rect x="109" width="31.5" height="55" fill="#3D63FB"/>
                        <path d="M131.773 33.4438H138.927C138.784 35.7886 138.138 37.8701 136.989 39.6885C135.857 41.5068 134.27 42.9264 132.228 43.9473C130.202 44.9681 127.762 45.4785 124.907 45.4785C122.674 45.4785 120.672 45.0957 118.901 44.3301C117.131 43.5485 115.616 42.432 114.355 40.9805C113.111 39.529 112.162 37.7744 111.508 35.7168C110.854 33.6592 110.527 31.3543 110.527 28.8022V26.3857C110.527 23.8337 110.862 21.5288 111.532 19.4712C112.218 17.3976 113.191 15.6351 114.451 14.1836C115.727 12.7321 117.25 11.6156 119.021 10.834C120.792 10.0524 122.769 9.66162 124.955 9.66162C127.858 9.66162 130.306 10.188 132.3 11.2407C134.31 12.2935 135.865 13.745 136.965 15.5952C138.082 17.4455 138.752 19.5509 138.975 21.9116H131.797C131.718 20.508 131.438 19.3197 130.96 18.3467C130.481 17.3577 129.756 16.616 128.783 16.1216C127.826 15.6112 126.55 15.356 124.955 15.356C123.758 15.356 122.714 15.5793 121.82 16.0259C120.927 16.4725 120.177 17.1504 119.571 18.0596C118.965 18.9688 118.511 20.1172 118.208 21.5049C117.92 22.8766 117.777 24.4876 117.777 26.3379V28.8022C117.777 30.6047 117.912 32.1917 118.184 33.5635C118.455 34.9193 118.869 36.0677 119.428 37.0088C120.002 37.9339 120.736 38.6357 121.629 39.1143C122.538 39.5768 123.631 39.8081 124.907 39.8081C126.406 39.8081 127.642 39.5688 128.615 39.0903C129.588 38.6118 130.33 37.902 130.84 36.9609C131.367 36.0199 131.678 34.8475 131.773 33.4438Z" fill="white"/>
                        <path d="M135.121 2.53564H135.305V3.54639H135.23C134.896 3.54639 134.599 3.59619 134.338 3.6958C134.078 3.79541 133.856 3.9375 133.675 4.12207C133.496 4.30371 133.358 4.52344 133.262 4.78125C133.168 5.03906 133.121 5.32764 133.121 5.64697V6.71045C133.121 6.93896 133.143 7.14111 133.187 7.31689C133.234 7.48975 133.3 7.63477 133.385 7.75195C133.473 7.86621 133.575 7.95264 133.692 8.01123C133.81 8.06689 133.941 8.09473 134.088 8.09473C134.226 8.09473 134.35 8.06543 134.461 8.00684C134.576 7.94824 134.672 7.86621 134.751 7.76074C134.833 7.65234 134.895 7.52637 134.936 7.38281C134.98 7.23633 135.002 7.07666 135.002 6.90381C135.002 6.73096 134.98 6.57129 134.936 6.4248C134.895 6.27832 134.833 6.15234 134.751 6.04688C134.669 5.93848 134.57 5.85498 134.453 5.79639C134.335 5.73779 134.204 5.7085 134.057 5.7085C133.858 5.7085 133.682 5.75537 133.53 5.84912C133.38 5.93994 133.263 6.05713 133.178 6.20068C133.093 6.34424 133.048 6.49512 133.042 6.65332L132.66 6.40723C132.668 6.18164 132.715 5.96777 132.8 5.76562C132.888 5.56348 133.008 5.38477 133.161 5.22949C133.316 5.07129 133.502 4.94824 133.719 4.86035C133.936 4.76953 134.18 4.72412 134.453 4.72412C134.751 4.72412 135.014 4.78125 135.239 4.89551C135.468 5.00977 135.658 5.1665 135.811 5.36572C135.963 5.56494 136.077 5.79492 136.153 6.05566C136.229 6.31641 136.268 6.59473 136.268 6.89062C136.268 7.20117 136.216 7.48975 136.114 7.75635C136.014 8.02295 135.869 8.25586 135.679 8.45508C135.491 8.6543 135.266 8.80957 135.002 8.9209C134.738 9.03223 134.442 9.08789 134.114 9.08789C133.774 9.08789 133.465 9.02637 133.187 8.90332C132.912 8.77734 132.674 8.60156 132.475 8.37598C132.276 8.15039 132.122 7.88232 132.014 7.57178C131.908 7.26123 131.855 6.92139 131.855 6.55225V6.06006C131.855 5.54443 131.93 5.07275 132.08 4.64502C132.232 4.21436 132.45 3.84229 132.734 3.52881C133.019 3.2124 133.361 2.96777 133.763 2.79492C134.164 2.62207 134.617 2.53564 135.121 2.53564Z" fill="white"/>
                        <path d="M116.177 47.0132V52H115.193V48.1479L114.01 48.5239V47.748L116.071 47.0132H116.177ZM121.202 51.231V52H117.797V51.3438L119.407 49.6177C119.569 49.4377 119.697 49.2793 119.79 49.1426C119.883 49.0036 119.951 48.8794 119.992 48.77C120.035 48.6584 120.057 48.5524 120.057 48.4521C120.057 48.3018 120.032 48.173 119.981 48.0659C119.931 47.9565 119.857 47.8722 119.759 47.813C119.664 47.7537 119.545 47.7241 119.404 47.7241C119.253 47.7241 119.124 47.7606 119.014 47.8335C118.907 47.9064 118.825 48.0078 118.768 48.1377C118.713 48.2676 118.686 48.4146 118.686 48.5786H117.698C117.698 48.2824 117.769 48.0112 117.91 47.7651C118.051 47.5168 118.251 47.3197 118.508 47.1738C118.766 47.0257 119.071 46.9517 119.424 46.9517C119.773 46.9517 120.067 47.0086 120.306 47.1226C120.548 47.2342 120.73 47.396 120.853 47.6079C120.978 47.8175 121.041 48.0682 121.041 48.3599C121.041 48.5239 121.015 48.6846 120.962 48.8418C120.91 48.9967 120.835 49.1517 120.737 49.3066C120.641 49.4593 120.525 49.6143 120.388 49.7715C120.251 49.9287 120.1 50.0916 119.934 50.2603L119.069 51.231H121.202ZM121.906 51.5249C121.906 51.3791 121.956 51.2572 122.056 51.1592C122.159 51.0612 122.294 51.0122 122.463 51.0122C122.632 51.0122 122.766 51.0612 122.866 51.1592C122.969 51.2572 123.02 51.3791 123.02 51.5249C123.02 51.6707 122.969 51.7926 122.866 51.8906C122.766 51.9886 122.632 52.0376 122.463 52.0376C122.294 52.0376 122.159 51.9886 122.056 51.8906C121.956 51.7926 121.906 51.6707 121.906 51.5249ZM127.197 49.0742V49.9355C127.197 50.3092 127.157 50.6317 127.077 50.9028C126.997 51.1717 126.882 51.3927 126.732 51.5659C126.584 51.7368 126.407 51.8633 126.202 51.9453C125.997 52.0273 125.769 52.0684 125.519 52.0684C125.318 52.0684 125.131 52.0433 124.958 51.9932C124.785 51.9408 124.629 51.8599 124.49 51.7505C124.353 51.6411 124.235 51.5033 124.134 51.3369C124.036 51.1683 123.961 50.9678 123.909 50.7354C123.856 50.5029 123.83 50.2363 123.83 49.9355V49.0742C123.83 48.7005 123.87 48.3804 123.95 48.1138C124.032 47.8449 124.147 47.625 124.295 47.4541C124.445 47.2832 124.623 47.1579 124.828 47.0781C125.033 46.9961 125.261 46.9551 125.512 46.9551C125.712 46.9551 125.898 46.9813 126.069 47.0337C126.242 47.0838 126.398 47.1624 126.537 47.2695C126.676 47.3766 126.795 47.5145 126.893 47.6831C126.991 47.8494 127.066 48.0488 127.118 48.2812C127.171 48.5114 127.197 48.7757 127.197 49.0742ZM126.209 50.0654V48.9409C126.209 48.7609 126.199 48.6037 126.178 48.4692C126.16 48.3348 126.132 48.2209 126.093 48.1274C126.054 48.0317 126.006 47.9543 125.949 47.895C125.892 47.8358 125.827 47.7925 125.754 47.7651C125.681 47.7378 125.601 47.7241 125.512 47.7241C125.4 47.7241 125.301 47.7458 125.214 47.7891C125.13 47.8324 125.058 47.9019 124.999 47.9976C124.94 48.091 124.894 48.2163 124.862 48.3735C124.833 48.5285 124.818 48.7176 124.818 48.9409V50.0654C124.818 50.2454 124.827 50.4038 124.845 50.5405C124.866 50.6772 124.895 50.7946 124.934 50.8926C124.975 50.9883 125.023 51.0669 125.078 51.1284C125.135 51.1877 125.2 51.231 125.272 51.2583C125.348 51.2856 125.43 51.2993 125.519 51.2993C125.628 51.2993 125.725 51.2777 125.809 51.2344C125.896 51.1888 125.969 51.1182 126.028 51.0225C126.089 50.9245 126.135 50.7969 126.165 50.6396C126.194 50.4824 126.209 50.291 126.209 50.0654ZM130.266 47.0132V52H129.282V48.1479L128.099 48.5239V47.748L130.16 47.0132H130.266ZM134.286 47.0132V52H133.301V48.1479L132.119 48.5239V47.748L134.18 47.0132H134.286Z" fill="white"/>
                        <rect width="31.5" height="55" fill="#3D63FB"/>
                        <path d="M16.4033 32.3291H7.3457V26.6162H16.4033C17.8031 26.6162 18.9424 26.3883 19.8213 25.9326C20.7002 25.4606 21.3431 24.8096 21.75 23.9795C22.1569 23.1494 22.3604 22.2135 22.3604 21.1719C22.3604 20.1139 22.1569 19.1292 21.75 18.2178C21.3431 17.3063 20.7002 16.5739 19.8213 16.0205C18.9424 15.4671 17.8031 15.1904 16.4033 15.1904H9.88477V45H2.56055V9.45312H16.4033C19.1865 9.45312 21.571 9.95768 23.5566 10.9668C25.5586 11.9596 27.0885 13.335 28.1465 15.0928C29.2044 16.8506 29.7334 18.8607 29.7334 21.123C29.7334 23.418 29.2044 25.4036 28.1465 27.0801C27.0885 28.7565 25.5586 30.0505 23.5566 30.9619C21.571 31.8734 19.1865 32.3291 16.4033 32.3291Z" fill="white"/>
                        <path d="M23.8564 2.58838V9H22.5908V4.04736L21.0703 4.53076V3.5332L23.7202 2.58838H23.8564ZM27.1304 6.08643L26.1196 5.84473L26.4844 2.60156H30.0791V3.62549H27.5259L27.3677 5.04492C27.4526 4.99512 27.5815 4.94238 27.7544 4.88672C27.9272 4.82812 28.1206 4.79883 28.3345 4.79883C28.645 4.79883 28.9204 4.84717 29.1606 4.94385C29.4009 5.04053 29.6045 5.18115 29.7715 5.36572C29.9414 5.55029 30.0703 5.77588 30.1582 6.04248C30.2461 6.30908 30.29 6.61084 30.29 6.94775C30.29 7.23193 30.2461 7.50293 30.1582 7.76074C30.0703 8.01562 29.937 8.24414 29.7583 8.44629C29.5796 8.64551 29.3555 8.80225 29.0859 8.9165C28.8164 9.03076 28.4971 9.08789 28.1279 9.08789C27.8525 9.08789 27.5859 9.04688 27.3281 8.96484C27.0732 8.88281 26.8433 8.76123 26.6382 8.6001C26.436 8.43896 26.2734 8.24414 26.1504 8.01562C26.0303 7.78418 25.9673 7.52051 25.9614 7.22461H27.2183C27.2358 7.40625 27.2827 7.56299 27.3589 7.69482C27.438 7.82373 27.542 7.92334 27.6709 7.99365C27.7998 8.06396 27.9507 8.09912 28.1235 8.09912C28.2847 8.09912 28.4224 8.06836 28.5366 8.00684C28.6509 7.94531 28.7432 7.86035 28.8135 7.75195C28.8838 7.64062 28.9351 7.51172 28.9673 7.36523C29.0024 7.21582 29.02 7.05469 29.02 6.88184C29.02 6.70898 28.9995 6.55225 28.9585 6.41162C28.9175 6.271 28.8545 6.14941 28.7695 6.04688C28.6846 5.94434 28.5762 5.86523 28.4443 5.80957C28.3154 5.75391 28.1646 5.72607 27.9917 5.72607C27.7573 5.72607 27.5757 5.7627 27.4468 5.83594C27.3208 5.90918 27.2153 5.99268 27.1304 6.08643Z" fill="white"/>
                        <path d="M5.78613 49.0845H6.3125C6.48112 49.0845 6.62012 49.056 6.72949 48.999C6.83887 48.9398 6.91976 48.8577 6.97217 48.7529C7.02686 48.6458 7.0542 48.5216 7.0542 48.3804C7.0542 48.2528 7.02913 48.14 6.979 48.042C6.93115 47.9417 6.8571 47.8643 6.75684 47.8096C6.65658 47.7526 6.53011 47.7241 6.37744 47.7241C6.25667 47.7241 6.14502 47.748 6.04248 47.7959C5.93994 47.8438 5.85791 47.911 5.79639 47.9976C5.73486 48.0841 5.7041 48.189 5.7041 48.312H4.71631C4.71631 48.0386 4.78923 47.8005 4.93506 47.5977C5.08317 47.3949 5.28141 47.2365 5.52979 47.1226C5.77816 47.0086 6.0516 46.9517 6.3501 46.9517C6.68734 46.9517 6.98242 47.0063 7.23535 47.1157C7.48828 47.2228 7.68538 47.3812 7.82666 47.5908C7.96794 47.8005 8.03857 48.0602 8.03857 48.3701C8.03857 48.5273 8.00212 48.68 7.9292 48.8281C7.85628 48.974 7.75146 49.1061 7.61475 49.2246C7.48031 49.3408 7.31624 49.4342 7.12256 49.5049C6.92887 49.5732 6.71126 49.6074 6.46973 49.6074H5.78613V49.0845ZM5.78613 49.833V49.3237H6.46973C6.74089 49.3237 6.979 49.3545 7.18408 49.416C7.38916 49.4775 7.5612 49.5664 7.7002 49.6826C7.83919 49.7965 7.94401 49.9321 8.01465 50.0894C8.08529 50.2443 8.12061 50.4163 8.12061 50.6055C8.12061 50.8379 8.07617 51.0452 7.9873 51.2275C7.89844 51.4076 7.77311 51.5602 7.61133 51.6855C7.45182 51.8109 7.26497 51.9066 7.05078 51.9727C6.83659 52.0365 6.60303 52.0684 6.3501 52.0684C6.14046 52.0684 5.93424 52.0399 5.73145 51.9829C5.53092 51.9237 5.34863 51.8359 5.18457 51.7197C5.02279 51.6012 4.8929 51.4531 4.79492 51.2754C4.69922 51.0954 4.65137 50.8823 4.65137 50.6362H5.63916C5.63916 50.7638 5.67106 50.8778 5.73486 50.978C5.79867 51.0783 5.88639 51.1569 5.99805 51.2139C6.11198 51.2708 6.23844 51.2993 6.37744 51.2993C6.53467 51.2993 6.66911 51.2708 6.78076 51.2139C6.89469 51.1546 6.98128 51.0726 7.04053 50.9678C7.10205 50.8607 7.13281 50.7365 7.13281 50.5952C7.13281 50.4129 7.09977 50.2671 7.03369 50.1577C6.96761 50.0461 6.87305 49.964 6.75 49.9116C6.62695 49.8592 6.48112 49.833 6.3125 49.833H5.78613ZM12.147 49.0742V49.9355C12.147 50.3092 12.1071 50.6317 12.0273 50.9028C11.9476 51.1717 11.8325 51.3927 11.6821 51.5659C11.534 51.7368 11.3574 51.8633 11.1523 51.9453C10.9473 52.0273 10.7194 52.0684 10.4688 52.0684C10.2682 52.0684 10.0814 52.0433 9.9082 51.9932C9.73503 51.9408 9.57894 51.8599 9.43994 51.7505C9.30322 51.6411 9.18473 51.5033 9.08447 51.3369C8.98649 51.1683 8.9113 50.9678 8.85889 50.7354C8.80648 50.5029 8.78027 50.2363 8.78027 49.9355V49.0742C8.78027 48.7005 8.82015 48.3804 8.8999 48.1138C8.98193 47.8449 9.09701 47.625 9.24512 47.4541C9.39551 47.2832 9.57324 47.1579 9.77832 47.0781C9.9834 46.9961 10.2113 46.9551 10.4619 46.9551C10.6624 46.9551 10.8481 46.9813 11.019 47.0337C11.1922 47.0838 11.3483 47.1624 11.4873 47.2695C11.6263 47.3766 11.7448 47.5145 11.8428 47.6831C11.9408 47.8494 12.016 48.0488 12.0684 48.2812C12.1208 48.5114 12.147 48.7757 12.147 49.0742ZM11.1592 50.0654V48.9409C11.1592 48.7609 11.1489 48.6037 11.1284 48.4692C11.1102 48.3348 11.0817 48.2209 11.043 48.1274C11.0042 48.0317 10.9564 47.9543 10.8994 47.895C10.8424 47.8358 10.7775 47.7925 10.7046 47.7651C10.6317 47.7378 10.5508 47.7241 10.4619 47.7241C10.3503 47.7241 10.2511 47.7458 10.1646 47.7891C10.0802 47.8324 10.0085 47.9019 9.94922 47.9976C9.88997 48.091 9.8444 48.2163 9.8125 48.3735C9.78288 48.5285 9.76807 48.7176 9.76807 48.9409V50.0654C9.76807 50.2454 9.77718 50.4038 9.79541 50.5405C9.81592 50.6772 9.84554 50.7946 9.88428 50.8926C9.92529 50.9883 9.97314 51.0669 10.0278 51.1284C10.0848 51.1877 10.1497 51.231 10.2227 51.2583C10.2979 51.2856 10.3799 51.2993 10.4688 51.2993C10.5781 51.2993 10.675 51.2777 10.7593 51.2344C10.8459 51.1888 10.9188 51.1182 10.978 51.0225C11.0396 50.9245 11.0851 50.7969 11.1147 50.6396C11.1444 50.4824 11.1592 50.291 11.1592 50.0654ZM12.9058 51.5249C12.9058 51.3791 12.9559 51.2572 13.0562 51.1592C13.1587 51.0612 13.2943 51.0122 13.4629 51.0122C13.6315 51.0122 13.766 51.0612 13.8662 51.1592C13.9688 51.2572 14.02 51.3791 14.02 51.5249C14.02 51.6707 13.9688 51.7926 13.8662 51.8906C13.766 51.9886 13.6315 52.0376 13.4629 52.0376C13.2943 52.0376 13.1587 51.9886 13.0562 51.8906C12.9559 51.7926 12.9058 51.6707 12.9058 51.5249ZM15.5444 51.2515H15.6094C15.8828 51.2515 16.1175 51.2184 16.3135 51.1523C16.5117 51.084 16.6746 50.986 16.8022 50.8584C16.9299 50.7308 17.0244 50.5747 17.0859 50.3901C17.1475 50.2033 17.1782 49.9914 17.1782 49.7544V48.811C17.1782 48.631 17.16 48.4727 17.1235 48.3359C17.0894 48.1992 17.0392 48.0864 16.9731 47.9976C16.9093 47.9064 16.8341 47.8381 16.7476 47.7925C16.6632 47.7469 16.5698 47.7241 16.4673 47.7241C16.3579 47.7241 16.2611 47.7515 16.1768 47.8062C16.0924 47.8586 16.0207 47.9303 15.9614 48.0215C15.9045 48.1126 15.86 48.2174 15.8281 48.3359C15.7985 48.4521 15.7837 48.5741 15.7837 48.7017C15.7837 48.8293 15.7985 48.9512 15.8281 49.0674C15.8577 49.1813 15.9022 49.2827 15.9614 49.3716C16.0207 49.4582 16.0947 49.5277 16.1836 49.5801C16.2725 49.6302 16.3773 49.6553 16.498 49.6553C16.6143 49.6553 16.7179 49.6336 16.8091 49.5903C16.9025 49.5448 16.9811 49.4855 17.0449 49.4126C17.111 49.3397 17.1611 49.2588 17.1953 49.1699C17.2318 49.0811 17.25 48.991 17.25 48.8999L17.5747 49.0776C17.5747 49.2371 17.5405 49.3944 17.4722 49.5493C17.4038 49.7043 17.3081 49.8455 17.1851 49.9731C17.0643 50.0985 16.9242 50.1987 16.7646 50.2739C16.6051 50.3491 16.4342 50.3867 16.252 50.3867C16.0195 50.3867 15.8133 50.3446 15.6333 50.2603C15.4533 50.1737 15.3006 50.0552 15.1753 49.9048C15.0522 49.7521 14.9588 49.5744 14.895 49.3716C14.8312 49.1688 14.7993 48.9489 14.7993 48.7119C14.7993 48.4704 14.8381 48.2437 14.9155 48.0317C14.9953 47.8198 15.1081 47.633 15.2539 47.4712C15.402 47.3094 15.5786 47.1829 15.7837 47.0918C15.991 46.9984 16.2212 46.9517 16.4741 46.9517C16.7271 46.9517 16.9572 47.0007 17.1646 47.0986C17.3719 47.1966 17.5496 47.3356 17.6978 47.5156C17.8459 47.6934 17.9598 47.9064 18.0396 48.1548C18.1216 48.4032 18.1626 48.6789 18.1626 48.9819V49.3237C18.1626 49.6473 18.1273 49.9481 18.0566 50.2261C17.9883 50.5041 17.8846 50.7559 17.7456 50.9814C17.6089 51.2048 17.438 51.3962 17.2329 51.5557C17.0301 51.7152 16.7943 51.8371 16.5254 51.9214C16.2565 52.0057 15.9557 52.0479 15.623 52.0479H15.5444V51.2515ZM22.2471 47.0234V47.5532L20.3228 52H19.2837L21.208 47.7925H18.73V47.0234H22.2471ZM26.3726 50.1406V50.9131H22.7871L22.7393 50.3149L24.814 47.0234H25.5967L24.749 48.4419L23.7168 50.1406H26.3726ZM25.8086 47.0234V52H24.8242V47.0234H25.8086Z" fill="white"/>
                        <path d="M48.4297 39.043V27.2754C48.4297 26.429 48.2913 25.7048 48.0146 25.1025C47.738 24.484 47.3066 24.0039 46.7207 23.6621C46.151 23.3203 45.4105 23.1494 44.499 23.1494C43.7178 23.1494 43.0423 23.2878 42.4727 23.5645C41.903 23.8249 41.4635 24.2074 41.1543 24.7119C40.8451 25.2002 40.6904 25.778 40.6904 26.4453H33.6592C33.6592 25.3223 33.9196 24.2562 34.4404 23.2471C34.9613 22.238 35.7181 21.3509 36.7109 20.5859C37.7038 19.8047 38.8838 19.1943 40.251 18.7549C41.6344 18.3154 43.1807 18.0957 44.8896 18.0957C46.9404 18.0957 48.7633 18.4375 50.3584 19.1211C51.9535 19.8047 53.2067 20.8301 54.1182 22.1973C55.0459 23.5645 55.5098 25.2734 55.5098 27.3242V38.6279C55.5098 40.0765 55.5993 41.2646 55.7783 42.1924C55.9574 43.1038 56.2178 43.9014 56.5596 44.585V45H49.4551C49.1133 44.2839 48.8529 43.3887 48.6738 42.3145C48.5111 41.224 48.4297 40.1335 48.4297 39.043ZM49.3574 28.9111L49.4062 32.8906H45.4756C44.5479 32.8906 43.7422 32.9964 43.0586 33.208C42.375 33.4196 41.8135 33.7207 41.374 34.1113C40.9346 34.4857 40.609 34.9251 40.3975 35.4297C40.2021 35.9342 40.1045 36.4876 40.1045 37.0898C40.1045 37.6921 40.2428 38.2373 40.5195 38.7256C40.7962 39.1976 41.195 39.5719 41.7158 39.8486C42.2367 40.109 42.847 40.2393 43.5469 40.2393C44.6048 40.2393 45.5244 40.0277 46.3057 39.6045C47.0869 39.1813 47.6891 38.6605 48.1123 38.042C48.5518 37.4235 48.7796 36.8376 48.7959 36.2842L50.6514 39.2627C50.391 39.93 50.0329 40.6217 49.5771 41.3379C49.1377 42.054 48.5762 42.7295 47.8926 43.3643C47.209 43.9827 46.387 44.4954 45.4268 44.9023C44.4665 45.293 43.3271 45.4883 42.0088 45.4883C40.3324 45.4883 38.8105 45.1546 37.4434 44.4873C36.0924 43.8037 35.0182 42.8678 34.2207 41.6797C33.4395 40.4753 33.0488 39.1081 33.0488 37.5781C33.0488 36.1947 33.3092 34.9658 33.8301 33.8916C34.3509 32.8174 35.1159 31.9141 36.125 31.1816C37.1504 30.4329 38.4281 29.8714 39.958 29.4971C41.488 29.1064 43.262 28.9111 45.2803 28.9111H49.3574ZM75.2119 37.7002C75.2119 37.1956 75.0654 36.7399 74.7725 36.333C74.4795 35.9261 73.9342 35.5518 73.1367 35.21C72.3555 34.8519 71.2243 34.5264 69.7432 34.2334C68.4085 33.9404 67.1634 33.5742 66.0078 33.1348C64.8685 32.679 63.8757 32.1338 63.0293 31.499C62.1992 30.8643 61.5482 30.1156 61.0762 29.2529C60.6042 28.374 60.3682 27.373 60.3682 26.25C60.3682 25.1432 60.6042 24.1016 61.0762 23.125C61.5645 22.1484 62.2562 21.2858 63.1514 20.5371C64.0628 19.7721 65.1696 19.1781 66.4717 18.7549C67.79 18.3154 69.2712 18.0957 70.915 18.0957C73.21 18.0957 75.1794 18.4619 76.8232 19.1943C78.4834 19.9268 79.7529 20.9359 80.6318 22.2217C81.527 23.4912 81.9746 24.9398 81.9746 26.5674H74.9434C74.9434 25.8838 74.7969 25.2734 74.5039 24.7363C74.2272 24.1829 73.7878 23.7516 73.1855 23.4424C72.5996 23.1169 71.8346 22.9541 70.8906 22.9541C70.1094 22.9541 69.4339 23.0924 68.8643 23.3691C68.2946 23.6296 67.8551 23.9876 67.5459 24.4434C67.2529 24.8828 67.1064 25.3711 67.1064 25.9082C67.1064 26.3151 67.1878 26.6813 67.3506 27.0068C67.5296 27.3161 67.8145 27.6009 68.2051 27.8613C68.5957 28.1217 69.1003 28.3659 69.7188 28.5938C70.3535 28.8053 71.1348 29.0007 72.0625 29.1797C73.9668 29.5703 75.6676 30.083 77.165 30.7178C78.6624 31.3363 79.8506 32.1826 80.7295 33.2568C81.6084 34.3148 82.0479 35.7064 82.0479 37.4316C82.0479 38.6035 81.7874 39.6777 81.2666 40.6543C80.7458 41.6309 79.9971 42.4854 79.0205 43.2178C78.0439 43.9339 76.8721 44.4954 75.5049 44.9023C74.154 45.293 72.6322 45.4883 70.9395 45.4883C68.4818 45.4883 66.3984 45.0488 64.6895 44.1699C62.9967 43.291 61.7109 42.1761 60.832 40.8252C59.9694 39.458 59.5381 38.0583 59.5381 36.626H66.2031C66.2357 37.5863 66.4798 38.3594 66.9355 38.9453C67.4076 39.5312 68.0016 39.9544 68.7178 40.2148C69.4502 40.4753 70.2396 40.6055 71.0859 40.6055C71.9974 40.6055 72.7542 40.4834 73.3564 40.2393C73.9587 39.9788 74.4144 39.637 74.7236 39.2139C75.0492 38.7744 75.2119 38.2699 75.2119 37.7002ZM100.896 37.7002C100.896 37.1956 100.749 36.7399 100.456 36.333C100.163 35.9261 99.6178 35.5518 98.8203 35.21C98.0391 34.8519 96.9079 34.5264 95.4268 34.2334C94.0921 33.9404 92.847 33.5742 91.6914 33.1348C90.5521 32.679 89.5592 32.1338 88.7129 31.499C87.8828 30.8643 87.2318 30.1156 86.7598 29.2529C86.2878 28.374 86.0518 27.373 86.0518 26.25C86.0518 25.1432 86.2878 24.1016 86.7598 23.125C87.248 22.1484 87.9398 21.2858 88.835 20.5371C89.7464 19.7721 90.8532 19.1781 92.1553 18.7549C93.4736 18.3154 94.9548 18.0957 96.5986 18.0957C98.8936 18.0957 100.863 18.4619 102.507 19.1943C104.167 19.9268 105.437 20.9359 106.315 22.2217C107.211 23.4912 107.658 24.9398 107.658 26.5674H100.627C100.627 25.8838 100.48 25.2734 100.188 24.7363C99.9108 24.1829 99.4714 23.7516 98.8691 23.4424C98.2832 23.1169 97.5182 22.9541 96.5742 22.9541C95.793 22.9541 95.1175 23.0924 94.5479 23.3691C93.9782 23.6296 93.5387 23.9876 93.2295 24.4434C92.9365 24.8828 92.79 25.3711 92.79 25.9082C92.79 26.3151 92.8714 26.6813 93.0342 27.0068C93.2132 27.3161 93.498 27.6009 93.8887 27.8613C94.2793 28.1217 94.7839 28.3659 95.4023 28.5938C96.0371 28.8053 96.8184 29.0007 97.7461 29.1797C99.6504 29.5703 101.351 30.083 102.849 30.7178C104.346 31.3363 105.534 32.1826 106.413 33.2568C107.292 34.3148 107.731 35.7064 107.731 37.4316C107.731 38.6035 107.471 39.6777 106.95 40.6543C106.429 41.6309 105.681 42.4854 104.704 43.2178C103.728 43.9339 102.556 44.4954 101.188 44.9023C99.8376 45.293 98.3158 45.4883 96.623 45.4883C94.1654 45.4883 92.082 45.0488 90.373 44.1699C88.6803 43.291 87.3945 42.1761 86.5156 40.8252C85.653 39.458 85.2217 38.0583 85.2217 36.626H91.8867C91.9193 37.5863 92.1634 38.3594 92.6191 38.9453C93.0911 39.5312 93.6852 39.9544 94.4014 40.2148C95.1338 40.4753 95.9232 40.6055 96.7695 40.6055C97.681 40.6055 98.4378 40.4834 99.04 40.2393C99.6423 39.9788 100.098 39.637 100.407 39.2139C100.733 38.7744 100.896 38.2699 100.896 37.7002Z" fill="white"/>
                        <path d="M149.716 8.25V45H142.826V8.25H149.716ZM148.735 31.147H146.845C146.861 29.3446 147.1 27.6857 147.563 26.1704C148.026 24.6392 148.688 23.3153 149.549 22.1987C150.41 21.0662 151.439 20.189 152.635 19.5669C153.847 18.9448 155.187 18.6338 156.655 18.6338C157.931 18.6338 159.087 18.8172 160.124 19.1841C161.177 19.535 162.078 20.1092 162.828 20.9067C163.593 21.6883 164.183 22.7171 164.598 23.9932C165.013 25.2692 165.22 26.8164 165.22 28.6348V45H158.282V28.5869C158.282 27.4385 158.114 26.5373 157.779 25.8833C157.46 25.2134 156.99 24.7428 156.368 24.4717C155.762 24.1846 155.012 24.041 154.119 24.041C153.13 24.041 152.284 24.2244 151.583 24.5913C150.897 24.9582 150.346 25.4686 149.932 26.1226C149.517 26.7606 149.214 27.5103 149.022 28.3716C148.831 29.2329 148.735 30.158 148.735 31.147ZM182.375 45.4785C180.365 45.4785 178.563 45.1595 176.968 44.5215C175.373 43.8675 174.017 42.9663 172.9 41.8179C171.8 40.6694 170.954 39.3376 170.364 37.8223C169.774 36.291 169.479 34.6641 169.479 32.9414V31.9844C169.479 30.0225 169.758 28.228 170.316 26.6011C170.875 24.9741 171.672 23.5625 172.709 22.3662C173.762 21.1699 175.038 20.2528 176.537 19.6147C178.036 18.9608 179.727 18.6338 181.609 18.6338C183.444 18.6338 185.071 18.9368 186.49 19.543C187.91 20.1491 189.098 21.0104 190.055 22.127C191.028 23.2435 191.762 24.5833 192.256 26.1465C192.751 27.6937 192.998 29.4163 192.998 31.3145V34.1855H172.422V29.5918H186.227V29.0654C186.227 28.1084 186.052 27.255 185.701 26.5054C185.366 25.7397 184.855 25.1336 184.169 24.687C183.484 24.2404 182.606 24.0171 181.538 24.0171C180.628 24.0171 179.847 24.2165 179.193 24.6152C178.539 25.014 178.005 25.5723 177.59 26.29C177.191 27.0078 176.888 27.8532 176.681 28.8262C176.489 29.7832 176.394 30.8359 176.394 31.9844V32.9414C176.394 33.9782 176.537 34.9352 176.824 35.8125C177.127 36.6898 177.55 37.4474 178.092 38.0854C178.651 38.7235 179.32 39.2179 180.102 39.5688C180.9 39.9198 181.801 40.0952 182.806 40.0952C184.05 40.0952 185.206 39.856 186.275 39.3774C187.36 38.883 188.293 38.1413 189.074 37.1523L192.424 40.7891C191.882 41.5706 191.14 42.3203 190.199 43.0381C189.274 43.7559 188.157 44.346 186.849 44.8086C185.541 45.2552 184.05 45.4785 182.375 45.4785ZM203.812 24.4717V45H196.898V19.1123H203.382L203.812 24.4717ZM202.855 31.147H200.941C200.941 29.3446 201.157 27.6857 201.587 26.1704C202.034 24.6392 202.68 23.3153 203.525 22.1987C204.387 21.0662 205.447 20.189 206.708 19.5669C207.968 18.9448 209.427 18.6338 211.086 18.6338C212.234 18.6338 213.287 18.8092 214.244 19.1602C215.201 19.4951 216.023 20.0295 216.708 20.7632C217.41 21.481 217.953 22.422 218.335 23.5864C218.718 24.7349 218.91 26.1146 218.91 27.7256V45H212.019V28.4912C212.019 27.3109 211.86 26.4017 211.541 25.7637C211.222 25.1257 210.767 24.679 210.177 24.4238C209.603 24.1686 208.909 24.041 208.095 24.041C207.202 24.041 206.42 24.2244 205.75 24.5913C205.097 24.9582 204.554 25.4686 204.124 26.1226C203.693 26.7606 203.374 27.5103 203.167 28.3716C202.959 29.2329 202.855 30.158 202.855 31.147ZM218.264 30.3574L215.799 30.6685C215.799 28.9777 216.007 27.4066 216.421 25.9551C216.852 24.5036 217.482 23.2275 218.312 22.127C219.157 21.0264 220.202 20.173 221.446 19.5669C222.69 18.9448 224.125 18.6338 225.752 18.6338C226.997 18.6338 228.129 18.8172 229.15 19.1841C230.171 19.535 231.04 20.1012 231.758 20.8828C232.492 21.6484 233.05 22.6533 233.433 23.8975C233.831 25.1416 234.031 26.6649 234.031 28.4673V45H227.116V28.4673C227.116 27.271 226.957 26.3618 226.638 25.7397C226.335 25.1017 225.888 24.6631 225.298 24.4238C224.724 24.1686 224.038 24.041 223.24 24.041C222.411 24.041 221.685 24.2085 221.063 24.5435C220.441 24.8625 219.923 25.3091 219.508 25.8833C219.093 26.4575 218.782 27.1274 218.575 27.8931C218.367 28.6427 218.264 29.4642 218.264 30.3574Z" fill="white"/>
                    </svg>
                    </Link>
                    <ul id='nav-link-list'>
                        <li> 
                            <Link className='nav-link' to={'/curriculum'}>
                                Curriculum
                            </Link>
                        </li>
                        <li>
                            <Link className='nav-link' to={'/about'}>
                                About
                            </Link>
                        </li>
                        { !(accessToken && refreshToken) ? (
                            <>
                                <li>
                                    <Link className='nav-link' to={'/login'}>
                                        Login
                                    </Link>
                                </li>
                                <li>
                                    <Link className='nav-link' to={'/signup'}>
                                        Sign Up
                                    </Link>
                                </li>
                            </>
                        ) : (
                            <>
                                <li>
                                    <Link className='nav-link' to={'/profile'}>
                                        Profile
                                    </Link>
                                </li>
                                <li>
                                    <button className='nav-link' onClick={logout}>
                                        Logout
                                    </button>
                                </li>
                            </>
                        )}
                    </ul>
                </nav>
                <div className='vid-overlay' style={vidOverlay}>
                    <div className='overlay-content'>
                        <h1>Learn Chemistry <br/>for <span className='underline-blue'>Free</span></h1>
                        <p>Discover an abundance of high quality resources.</p> 
                        <a href='#section2' onClick={MoreButtonScroll}>More</a>
                    </div>
                </div>   
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#111111" className='menu-icon' style={{transform: `rotate(${menuPopup ? 180 : 0}deg)`, position: menuPopup ? 'fixed' : 'absolute'}} onClick={menuPopupToggle}><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
            <div className='menu-popup-hero' style={{opacity: `${menuPopup ? 100 : 0}%`, pointerEvents: menuPopup ? 'all' : 'none'}}>
                <div className='menu-popup-container'>
                    <ul>
                        <li> 
                            <Link className='menu-item' to={'/curriculum'}>
                                Curriculum
                            </Link>
                        </li>
                        <li>
                            <Link className='menu-item' to={'/about'}>
                                About
                            </Link>
                        </li>
                        { !(accessToken && refreshToken) ? (
                            <>
                                <li>
                                    <Link className='menu-item' to={'/login'}>
                                        Login
                                    </Link>
                                </li>
                                <li>
                                    <Link className='menu-item' to={'/signup'}>
                                        Sign Up
                                    </Link>
                                </li>
                            </>
                        ) : (
                            <>
                                <li>
                                    <Link className='menu-item' to={'/profile'}>
                                        Profile
                                    </Link>
                                </li>
                                <li>
                                    <button className='menu-item' onClick={logout}>
                                        Logout
                                    </button>
                                </li>
                            </>
                        )}
                    </ul>
                </div>
            </div>
        </>
    )
}

